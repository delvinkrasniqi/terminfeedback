<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <title>Termin Feedback</title>
</head>

<body>
    <div class="container">
        <div class="feedback">
            <div class="feedback-header">
                <h2 class="feedback-header__title">
                    Termin Feedback
                </h2>
                <p class="feedback-header__id">
                    #<span>264545</span>
                </p>
                <img src="./assets/logo.png" alt="" id="logo">
            </div>
            <div class="feedback-main">
                <div class="feedback-information">
                    <h2 class="termin-details">Termin Details</h2>
                    <div class="feedbacker">
                        <h2 class="feedbacker_name">Herr Stauber</h2>
                        <p><span class="street">Lysstrasse 3</span>, <span class="plz">2560</span>, <span
                                class="city">Nidau</span></p>
                    </div>
                    <div class="feedback-date">
                        <h2><span class="date">15.04.2021</span> um <span class="time">17:00</span></h2>
                        <p>Alban Gerguri</p>
                    </div>
                </div>
                <div class="termindate">
                    <div class="input-group">
                        <label for="termin-datum">Termin Datum</label>
                        <input type="date" name="termin-datum" id="termin-datum">
                    </div>
                    <div class="input-group">
                        <label for="termin-time">UHR</label>
                        <input type="time" name="termin-time" id="termin-time" value="00:00">
                    </div>
                </div>
                <div class="mjv-box">
                    <div class="input-group">
                        <label>MJV</label> <input type="number" name="kkabschluss" min="0" max="10" step="1"
                            inputmode="numeric" pattern="[0-9]*" value="1">
                    </div>
                </div>
                <div class="feedback-form">
                    <form action="" method="post">
                        <div class="checkboxes-group">
                            <h2>Status</h2>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Nicht besucht" class="checkboxInput"
                                    id="nichtbesucht"><label for="nichtbesucht">Nicht besucht</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Nicht zu Hause" class="checkboxInput"
                                    id="nichtzuhause"><label for="nichtzuhause">Nicht zu Hause</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Stattgefunden" class="checkboxInput"
                                    id="stattgefunden"><label for="stattgefunden">Stattgefunden</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Offen" class="checkboxInput"
                                    id="offen"><label for="offen">Offen</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Positiv" class="checkboxInput"
                                    id="positiv"><label for="positiv">Positiv</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Abgesagt" class="checkboxInput"
                                    id="abgesagt"><label for="abgesagt">Abgesagt</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Wollte kein Termin"
                                    class="checkboxInput" id="wolltekeintermin"><label for="wolltekeintermin">Wollte
                                    kein Termin</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Behandlung" class="checkboxInput"
                                    id="behandlung"><label for="behandlung">Behandlung</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="MJV" class="checkboxInput"
                                    id="mjv"><label for="mjv">MJV</label>
                            </div>
                            <div class="input-group">
                                <input type="checkbox" name="checkboxes" value="Negativ" class="checkboxInput"
                                    id="negativ"><label for="negativ">Negativ</label>
                            </div>
                        </div>

                        <div class="ratings-group">
                            <h2>Abaschlusse</h2>
                            <div class="input-group">
                                <label for="kkabschluss">KK - Abschluss</label> <input type="number" name="kkabschluss"
                                    min="0" max="10" step="1" inputmode="numeric" pattern="[0-9]*" id="kkabschluss">
                            </div>
                            <div class="input-group">
                                <label for="lebensversicherung">Lebensversicherung</label> <input type="number"
                                    name="lebensversicherung" min="0" max="10" step="1" inputmode="numeric"
                                    pattern="[0-9]*" id="lebensversicherung">
                            </div>
                            <div class="input-group">
                                <label for="autoversicherung">Autoversicherung</label> <input type="number"
                                    name="autoversicherung" min="0" max="10" step="1" inputmode="numeric"
                                    pattern="[0-9]*" id="autoversicherung">
                            </div>
                            <div class="input-group">
                                <label for="hausrat">Hausrat</label> <input type="number" name="hausrat" min="0"
                                    max="10" step="1" inputmode="numeric" pattern="[0-9]*" id="hausrat">
                            </div>
                            <div class="input-group">
                                <label for="haftpflicht">Haftpflicht</label> <input type="number" name="haftpflicht"
                                    min="0" max="10" step="1" inputmode="numeric" pattern="[0-9]*" id="haftpflicht">
                            </div>
                            <div class="input-group">
                                <label for="rechtsschutz">Rechtsschutz</label> <input type="number" name="rechtsschutz"
                                    min="0" max="10" step="1" inputmode="numeric" pattern="[0-9]*" id="rechtsschutz">
                            </div>
                            <div class="input-group">
                                <label for="mandate">Mandate</label> <input type="number" name="mandate" min="0"
                                    max="10" step="1" inputmode="numeric" pattern="[0-9]*" id="mandate">
                            </div>
                            <div class="input-group">
                                <label for="kmu">KMU</label> <input type="number" name="kmu" min="0" max="10" step="1"
                                    inputmode="numeric" pattern="[0-9]*" id="kmu">
                            </div>
                            <div class="input-group">
                                <label for="steuererkl채rung">Steuererkl채rung</label> <input type="number"
                                    name="steuererkl채rung" min="0" max="10" step="1" inputmode="numeric"
                                    pattern="[0-9]*" id="steuererkl채rung">
                            </div>
                        </div>
                        <div class="comment-group">
                            <div class="input-group">
                                <label for="comment">Comment</label>
                                <textarea name="comment" id="comment" cols="30" rows="5"></textarea>
                            </div>
                        </div>
                        <button id="submitbutton">Save</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <script>
        document.getElementById('termin-datum').valueAsDate = new Date();
        //Boxes
        let offenBox = document.querySelector(".termindate");
        let mjvBox = document.querySelector(".mjv-box");

        //checkboxes
        let nichtzuhauseCheckBox = document.querySelector("#nichtzuhause");
        let stattgefundenCheckBox = document.querySelector("#stattgefunden");
        let positivCheckBox = document.querySelector("#positiv");
        let abgesagtCheckBox = document.querySelector("#abgesagt");
        let wolltekeinterminCheckBox = document.querySelector("#wolltekeintermin");
        let behandlungCheckBox = document.querySelector("#behandlung");
        let mjvCheckBox = document.querySelector("#mjv");
        let offenCheckBox = document.querySelector("#offen");
        let negativCheckBox = document.querySelector("#negativ");

        //checkboxes groups
        const checkboxesGroup = document.querySelectorAll(".checkboxes-group .input-group");
        const ratingsGroup = document.querySelectorAll(".ratings-group .input-group");

        offenCheckBox.addEventListener("click", () => {
            offenBox.classList.toggle("active");
        })
        mjvCheckBox.addEventListener("click", () => {
            mjvBox.classList.toggle("active");
        })

        ratingsGroup.forEach((rating) => {
            rating.addEventListener("click", () => {
                rating.children[1].focus();
            })
        })
        function disableCheckbox(targetCheckbox) {
            let checkboxesState = false;
            targetCheckbox.addEventListener("change", () => {
                if (!checkboxesState) {
                    checkboxesGroup.forEach(checkbox => {
                        if (checkbox.children[0] !== targetCheckbox) {
                            checkbox.classList.add("checkbox--disabled");
                            checkbox.children[0].disabled = true;
                        }
                    })
                    checkboxesState = true;
                }
                else {
                    checkboxesGroup.forEach(checkbox => {
                        checkbox.classList.remove("checkbox--disabled");
                        checkbox.children[0].disabled = false;
                    })
                    checkboxesState = false;
                }
            })
        }

        function checkDuo(mainCheckbox, targetedCheckbox){
            let checkboxesState = false;
            mainCheckbox.addEventListener("change",()=>{
                if(!checkboxesState){
                    checkboxesGroup.forEach(checkbox=>{
                        if (checkbox.children[0] !== mainCheckbox) {
                            checkbox.classList.add("checkbox--disabled");
                            checkbox.children[0].disabled = true;
                            targetedCheckbox.checked=true;
                        }
                    })
                    checkboxesState=true;
                }
                else{
                    checkboxesGroup.forEach(checkbox=>{
                        checkbox.classList.remove("checkbox--disabled");
                        checkbox.children[0].disabled = false;
                       
                    })
                    targetedCheckbox.checked=false;
                    checkboxesState=false;
                }
            })
        }

    
     disableCheckbox(nichtzuhauseCheckBox);
     disableCheckbox(positivCheckBox);
     disableCheckbox(abgesagt);
     disableCheckbox(wolltekeinterminCheckBox);
     disableCheckbox(behandlung);
     disableCheckbox(mjvCheckBox);
     disableCheckbox(negativCheckBox);


     checkDuo(offenCheckBox,stattgefundenCheckBox);
     checkDuo(positivCheckBox,stattgefundenCheckBox);
     checkDuo(behandlungCheckBox,stattgefundenCheckBox);
     checkDuo(mjvCheckBox,stattgefundenCheckBox);
     checkDuo(negativCheckBox,stattgefundenCheckBox);
    </script>
</body>

</html>